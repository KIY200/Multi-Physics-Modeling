Version 4
SHEET 1 1432 816
WIRE -576 -272 -928 -272
WIRE -528 -272 -576 -272
WIRE -432 -272 -448 -272
WIRE -272 -272 -432 -272
WIRE -144 -272 -272 -272
WIRE -96 -272 -144 -272
WIRE 0 -272 -16 -272
WIRE 208 -272 0 -272
WIRE 416 -272 208 -272
WIRE -928 -224 -928 -272
WIRE -576 -224 -576 -272
WIRE -432 -224 -432 -272
WIRE -144 -224 -144 -272
WIRE 0 -224 0 -272
WIRE 416 -224 416 -272
WIRE -576 -144 -576 -160
WIRE -464 -144 -576 -144
WIRE -144 -144 -144 -160
WIRE -32 -144 -144 -144
WIRE -432 -128 -432 -160
WIRE -432 -128 -576 -128
WIRE 0 -128 0 -160
WIRE 0 -128 -144 -128
WIRE -464 -112 -464 -144
WIRE -432 -112 -464 -112
WIRE -32 -112 -32 -144
WIRE 0 -112 -32 -112
WIRE -928 -80 -928 -144
WIRE -576 -80 -576 -128
WIRE -576 -80 -928 -80
WIRE -544 -80 -576 -80
WIRE -432 -80 -432 -112
WIRE -432 -80 -464 -80
WIRE -320 -80 -432 -80
WIRE -144 -80 -144 -128
WIRE -144 -80 -320 -80
WIRE -112 -80 -144 -80
WIRE 0 -80 0 -112
WIRE 0 -80 -32 -80
WIRE 144 -80 0 -80
WIRE 416 -80 416 -144
WIRE 416 -80 144 -80
WIRE -928 -16 -928 -80
WIRE -320 16 -320 -80
WIRE -320 16 -544 16
WIRE -272 48 -272 -272
WIRE -272 48 -464 48
WIRE -272 144 -416 144
WIRE -144 144 -272 144
WIRE -16 144 -144 144
WIRE 544 144 432 144
WIRE 672 144 544 144
WIRE 800 144 672 144
WIRE -416 192 -416 144
WIRE 432 192 432 144
WIRE -464 208 -464 48
WIRE -272 208 -272 144
WIRE -144 208 -144 144
WIRE -16 208 -16 144
WIRE 208 208 208 -272
WIRE 384 208 208 208
WIRE 544 208 544 144
WIRE 672 208 672 144
WIRE 800 208 800 144
WIRE -544 256 -544 96
WIRE -464 256 -544 256
WIRE 144 256 144 -80
WIRE 384 256 144 256
WIRE -416 352 -416 272
WIRE -272 352 -272 288
WIRE -272 352 -416 352
WIRE -144 352 -144 272
WIRE -144 352 -272 352
WIRE -112 352 -144 352
WIRE -16 352 -16 288
WIRE -16 352 -112 352
WIRE 432 352 432 272
WIRE 544 352 544 288
WIRE 544 352 432 352
WIRE 672 352 672 272
WIRE 672 352 544 352
WIRE 704 352 672 352
WIRE 800 352 800 288
WIRE 800 352 704 352
WIRE -112 400 -112 352
WIRE 704 400 704 352
WIRE -352 432 -480 432
WIRE -256 432 -352 432
WIRE -128 432 -256 432
WIRE -16 432 -128 432
WIRE 544 432 416 432
WIRE 640 432 544 432
WIRE 768 432 640 432
WIRE 880 432 768 432
WIRE -256 480 -256 432
WIRE -128 480 -128 432
WIRE -16 480 -16 432
WIRE 640 480 640 432
WIRE 768 480 768 432
WIRE 880 480 880 432
WIRE -480 496 -480 432
WIRE -352 496 -352 432
WIRE 416 496 416 432
WIRE 544 496 544 432
WIRE -480 640 -480 576
WIRE -352 640 -352 560
WIRE -352 640 -480 640
WIRE -256 640 -256 560
WIRE -256 640 -352 640
WIRE -128 640 -128 560
WIRE -128 640 -256 640
WIRE -48 640 -128 640
WIRE -16 640 -16 560
WIRE -16 640 -48 640
WIRE 416 640 416 576
WIRE 544 640 544 560
WIRE 544 640 416 640
WIRE 640 640 640 560
WIRE 640 640 544 640
WIRE 768 640 768 560
WIRE 768 640 640 640
WIRE 848 640 768 640
WIRE 880 640 880 560
WIRE 880 640 848 640
WIRE -48 720 -48 640
WIRE 848 720 848 640
FLAG -928 -16 0
FLAG -48 720 0
FLAG -112 400 0
FLAG 848 720 0
FLAG 704 400 0
SYMBOL voltage -928 -240 R0
SYMATTR InstName d_eta
SYMATTR Value SINE(0 {d_eta_amp} {f})
SYMBOL cap -592 -224 R0
SYMATTR InstName C11
SYMATTR Value {C_APF}
SYMATTR SpiceLine Rser=0
SYMBOL cap -448 -224 R0
SYMATTR InstName C12
SYMATTR Value {C_APF}
SYMATTR SpiceLine Rser=0
SYMBOL ind -544 -256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L11
SYMATTR Value {L_APF}
SYMATTR SpiceLine Rser=0
SYMBOL cap -368 496 R0
SYMATTR InstName M1
SYMATTR Value {C_b1}
SYMBOL ind -272 464 R0
SYMATTR InstName K_hs1
SYMATTR Value {Lf}
SYMBOL res -144 464 R0
SYMATTR InstName R_d1
SYMATTR Value {Rf}
SYMBOL res -32 464 R0
SYMATTR InstName R_PTO1
SYMATTR Value {R_PTO}
SYMBOL res 400 -240 R0
SYMATTR InstName REND
SYMATTR Value 1e9
SYMBOL cap -160 208 R0
SYMATTR InstName M1p
SYMATTR Value {Cf}
SYMBOL ind -288 192 R0
SYMATTR InstName K_hs1p
SYMATTR Value {Lf}
SYMBOL res 0 304 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R_d1p
SYMATTR Value {Rf}
SYMBOL e -416 176 R0
SYMATTR InstName d_eta1
SYMATTR Value 1
SYMBOL e 432 176 R0
SYMATTR InstName d_eta2
SYMATTR Value 1
SYMBOL cap 528 496 R0
SYMATTR InstName M2
SYMATTR Value {C_b1}
SYMBOL ind 624 464 R0
SYMATTR InstName K_hs2
SYMATTR Value {Lf}
SYMBOL res 752 464 R0
SYMATTR InstName R_d2
SYMATTR Value {Rf}
SYMBOL res 864 464 R0
SYMATTR InstName R_PTO2
SYMATTR Value {R_PTO}
SYMBOL cap 656 208 R0
SYMATTR InstName M2p
SYMATTR Value {Cf}
SYMBOL ind 528 192 R0
SYMATTR InstName K_hs2p
SYMATTR Value {Lf}
SYMBOL res 816 304 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R_d2p
SYMATTR Value {Rf}
SYMBOL ind -560 -64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L12
SYMATTR Value {L_APF}
SYMATTR SpiceLine Rser=0
SYMBOL cap -160 -224 R0
SYMATTR InstName C21
SYMATTR Value {C_APF}
SYMATTR SpiceLine Rser=0
SYMBOL cap -16 -224 R0
SYMATTR InstName C22
SYMATTR Value {C_APF}
SYMATTR SpiceLine Rser=0
SYMBOL ind -112 -256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L21
SYMATTR Value {L_APF}
SYMATTR SpiceLine Rser=0
SYMBOL ind -128 -64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L22
SYMATTR Value {L_APF}
SYMATTR SpiceLine Rser=0
SYMBOL bi -480 576 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName B1
SYMATTR Value I={I(d_eta1)}
SYMBOL bi 416 576 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName B2
SYMATTR Value I={I(d_eta2)}
SYMBOL res -560 0 R0
SYMATTR InstName R1
SYMATTR Value 1e-6
TEXT -208 -784 Left 2 !.param Cf {Added_Mass_float}\n.param C_b1 {Mass_float+Cf}\n.param Lf 1/{Hydro_stiffness_float}\n.param Rf 1/{Radiation_Damping_float}
TEXT -1120 -800 Left 2 !.param eta_amp 1\n.param T 5\n.param f {1/{T}}\n.param d_eta_amp = {{eta_amp}*2*3.14/{T}}\n.param Mass_float 245.84\n.param Mass_spar 202.21\n.param Added_Mass_float 1.66K\n.param Added_Mass_spar 3.4223K\n.param Radiation_Damping_float 260.1815 \n.param Radiation_Damping_spar 22.4672\n.param Hydro_stiffness_float 7700\n.param Hydro_stiffness_spar 0.22M\n.param Mooring_stiffness 520\n.param PTO_Mechanical_Friction 350\n.param PTO_control_damping 10000
TEXT -888 216 Left 2 ;Fex = A dd_eta + C d_eta + K eta
TEXT -1384 -160 Left 2 ;eta = a cos(k * x - sigma * t)\nd_eta = a * (-sigma) sin ( k*x - sigma *t)
TEXT -992 -312 Left 2 ;phi_0 = k*x_0 - sigma * t_0
TEXT -432 -320 Left 2 ;phi_1 = k*x_1 - sigma * t_0
TEXT 112 -312 Left 2 ;phi_2 = k*x_2 - sigma * t_0
TEXT -432 -384 Left 2 ;phi_1 - phi_0 = k*(x_1-x_0) = k * d_1\nd_1 = (phi_1 - phi_0)/k = (phi_1 - phi_0) * L_wave / (2*pi)
TEXT -888 288 Left 2 ;I_ex = C dV + 1/R * V + 1/L * int(V)
TEXT -616 -800 Left 2 !.tran 10m 10
TEXT -616 -840 Left 3 ;Simulation Parameters
TEXT -1120 -840 Left 3 ;Hydrodynamic parameters
TEXT -216 -840 Left 3 ;Electrical conversion of Hydro params
TEXT -208 -664 Left 2 !.param Cs {Added_Mass_spar}\n.param C_b2 {Mass_spar+Cs}\n.param Ls 1/{Hydro_stiffness_spar}\n.param L_b2 {Hydro_stiffness_spar+Mooring_stiffness}\n.param Rs 1/{Radiation_Damping_spar}
TEXT -208 -520 Left 2 !.param R_PTO 1/{PTO_control_damping}\n.param R_Fric 1/{PTO_Mechanical_Friction}
TEXT -200 -808 Left 2 ;Body 1 conversion
TEXT -200 -688 Left 2 ;Body 2 conversion
TEXT -200 -544 Left 2 ;PTO conversion
TEXT 432 -784 Left 2 !.param L_APF 5.45e-5\n.param C_APF 1.99e3\n.param R_APF 1.65e-4
TEXT 432 -840 Left 3 ;Other
